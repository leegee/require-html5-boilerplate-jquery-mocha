<!DOCTYPE html>
<html>
	<head>
	    <meta charset="utf-8">
		<title>Mocha Test Suite Runner</title>

		<link rel="stylesheet" media="all" href="vendor/mocha/mocha.css">

		<!-- Do not move this into the require call... -->
		<script src='vendor/mocha/mocha.js'></script>

		<script src='../js/vendor/require.js'></script>
        <script>
        	/** Needed to run the tests */
	  	  	var PRE_LIBS = [
				'vendor/chai/chai.js',
				'vendor/should/should.js'
			];

			/** The tests themselves */
			var TEST_SPECS = [
				'examples/simple.js',
				'examples/ajax.js'
			];

	  	  	// Hack to test if we are being called headless or not: cf Gruntfile.js
	  	  	// See require-global-config.js for an explanation/apology:
/** @global */
	  	  	var global = global || {};
	  	  	global.CDN_JS_ROOT = '../';

/** @global */
			var TEST_RUNNER = {};
			TEST_RUNNER.html_fixture_selector = '#fixture-holder';

			require(['../js/main.js'], function(){
				require( PRE_LIBS, function () {
					mocha.setup('bdd');

					require( TEST_SPECS, function (m){
						mocha.run();
					});

				});
			});
		</script>

	</head>
	<body>
		<header>
			<h1>Mocha Tests</h1>
			<p>Add tests to this file's <code>TEST_SPECS</code>.</p>
		</header>
		<section id="mocha" data-comment="Report gets inserted into here"></section>
		<div id="fixture-holder"></div>
	</body>
</html>


